


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <link rel="canonical" href="https://apiad.net/tweetstorms/theorythursday-algorithm-complexity/">
      
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.5.12">
    
    
      
        <title>Algorithm Complexity - Alejandro Piad-Morffis</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.4dd2dd8d.min.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/palette.6a5ad368.min.css">
      
      
        
        
        <meta name="theme-color" content="#000000">
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
    
      
    
    
  </head>
  
  
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="black" data-md-color-accent="black">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#algorithm-complexity" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="https://apiad.net" title="Alejandro Piad-Morffis" class="md-header-nav__button md-logo" aria-label="Alejandro Piad-Morffis">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            Alejandro Piad-Morffis
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Algorithm Complexity
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/apiad/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="https://apiad.net" title="Alejandro Piad-Morffis" class="md-nav__button md-logo" aria-label="Alejandro Piad-Morffis">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    Alejandro Piad-Morffis
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/apiad/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../projects/" title="Projects" class="md-nav__link">
      Projects
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Essays
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Essays" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        <span class="md-nav__icon md-icon"></span>
        Essays
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../essays/" title="Essays" class="md-nav__link">
      Essays
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../essays/teaching/" title="Why I love teaching" class="md-nav__link">
      Why I love teaching
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../essays/team-playing/" title="It's all about team-playing" class="md-nav__link">
      It's all about team-playing
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Tweetstorms
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Tweetstorms" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        <span class="md-nav__icon md-icon"></span>
        Tweetstorms
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../" title="Tweetstorms" class="md-nav__link">
      Tweetstorms
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="." title="Algorithm Complexity" class="md-nav__link">
      Algorithm Complexity
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../philosophyfriday-mary-room/" title="Mary's Room" class="md-nav__link">
      Mary's Room
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/apiad/edit/master/docs/tweetstorms/theorythursday-algorithm-complexity.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  
                
                
                <h1 id="algorithm-complexity">Algorithm Complexity<a class="headerlink" href="#algorithm-complexity" title="Permanent link">&para;</a></h1>
<p>Hey, guess what, today is #TheoryThursday 🧐! </p>
<p>A silly excuse I just invented to share with you random bits of theory from some dark corner of Computer Science and make it as beginner-friendly as possible 👇</p>
<hr />
<p>Today I want to talk about <em>Algorithmic Complexity</em>.</p>
<p>To get started, take a look at the following code. How long do you think it will take to run it? </p>
<p>Let's make that question more precise. How long do you think it will take to run it in the worst-case scenario?  </p>
<!--

<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">find_element</span><span class="p">(</span><span class="n">array</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
  <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">y</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">array</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="n">y</span><span class="p">:</span>
      <span class="k">return</span> <span class="n">i</span>

  <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>
</code></pre></div>


-->

<p><img alt="" src="../complexity-example-1.svg" /></p>
<hr />
<p>We can see that the code will run slower if:</p>
<p>👉 your computer is older;
👉 the array is longer; or
👉 x happens to be further to back, or not present at all.</p>
<p>Can we turn these insights into an actual formula? We will have to get rid of ambiguous stuff like "old computers".</p>
<hr />
<p>1️⃣ First, let's consider an abstract computer in which all "atomic" operations take exactly 1 unit of time. </p>
<p>🤔 Defining exactly what is an "atomic" operation is far from trivial. For now, assume it's things like arithmetic operations, indexing, invocation.</p>
<hr />
<p>2️⃣ Second, we'll count the number of operations <em>with respect to</em> the size of an arbitrary array.</p>
<p>We will say something like "this will cost 2 units of time for each element of the array".</p>
<hr />
<p>3️⃣ Finally, we will consider the worst-case scenario.</p>
<p>So we assume, in this example, that the element x is not in the array. More generally, we will always think about the maximum number of operations that could potentially happen.</p>
<hr />
<p>With these ideas in mind, we are ready to define the <em>Algorithm Complexity</em> of this algorithm. </p>
<p>Let's count how many operations are performed in each step, assuming our array has length N:</p>
<!--

<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">find_element</span><span class="p">(</span><span class="n">array</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
  <span class="c1"># performed N times ------------\</span>
  <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">y</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">array</span><span class="p">):</span> <span class="c1"># | +1 invocation of next()</span>
                                <span class="c1"># | +1 tuple deconstruction</span>
    <span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="n">y</span><span class="p">:</span>                  <span class="c1"># | +1 comparison</span>
      <span class="k">return</span> <span class="n">i</span>                  <span class="c1"># | +1 return (but not always)</span>
  <span class="c1"># ------------------------------/</span>

  <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>                     <span class="c1"># +1 return</span>
</code></pre></div>


-->

<p><img alt="" src="../complexity-example-2.svg" /></p>
<hr />
<p>Depending on how detailed you want to be counting, you could say we have something like 🔥3*N+1🔥 operations in the ultimate worst-case scenario.</p>
<p>❓ Now, why do we care about this? </p>
<p>The reason is that we can now compare different algorithms. </p>
<hr />
<p>For example, if your implementation takes 🔥5*N+3🔥, then it is worse, right?</p>
<p>Well, it's not 😝</p>
<p>Here's the deal: we have been assuming that all "atomic" operations are equally costly, but this is not true...</p>
<hr />
<p>Hence, it makes no sense to compare my implementation with your implementation by looking at those tiny differences. My 5 * N could be faster than your 3 * N if my "atomic" operations are simpler.</p>
<p>💡 We want a complexity measure that smooths away all implementation details.</p>
<hr />
<p>To achieve this, we will take away everything unimportant when N becomes very large. We will consider that:</p>
<p>👉 N+a and N+b are the same;
👉 a<em>N and b</em>N are the same; </p>
<p>... for any finite values a and b.</p>
<hr />
<p>🔑 And instead of saying 3*N+4, we will say the asymptotic algorithmic complexity is O(N).</p>
<p>This is called big-O notation.</p>
<p>💡 We call this <em>linear complexity</em> because the number of operations grows linearly <em>with respect to</em> the size of the array.</p>
<hr />
<p>🧐 Formally, it means that your function's cost is something that is bounded by a linear function.</p>
<p>💡 Intuitively, what this means is that in the long run, small differences like specific operations matter less than the capacity your algorithm has to <em>scale</em> with more data.</p>
<hr />
<p>The reason is simple, an algorithm with a lower asymptotic complexity will eventually win. Take for example binary search.</p>
<p><a href="https://en.wikipedia.org/wiki/Binary_search_algorithm">https://en.wikipedia.org/wiki/Binary_search_algorithm</a></p>
<p>It takes a bit of thinking, but we can prove the asymptotic notation to be O(log N).</p>
<!--

<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">binary_search</span><span class="p">(</span><span class="n">array</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
  <span class="n">left</span> <span class="o">=</span> <span class="mi">0</span>
  <span class="n">right</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">array</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>

  <span class="k">while</span> <span class="n">left</span> <span class="o">&lt;</span> <span class="n">right</span><span class="p">:</span>
    <span class="n">m</span> <span class="o">=</span> <span class="p">(</span><span class="n">left</span> <span class="o">+</span> <span class="n">right</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>

    <span class="k">if</span> <span class="n">a</span><span class="p">[</span><span class="n">m</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">x</span><span class="p">:</span>
      <span class="n">left</span> <span class="o">=</span> <span class="n">m</span> <span class="o">+</span> <span class="mi">1</span>
    <span class="k">elif</span> <span class="n">a</span><span class="p">[</span><span class="n">m</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">x</span><span class="p">:</span>
      <span class="n">right</span> <span class="o">=</span> <span class="n">m</span> <span class="o">-</span> <span class="mi">1</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="k">return</span> <span class="n">m</span>

  <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>
</code></pre></div>


-->

<p><img alt="" src="../complexity-example-3.svg" /></p>
<hr />
<p>Binary search is doing much more work in each iteration than linear search. It could be 20 * log N vs 3 * N. Hence, with very small arrays, linear search could be better.</p>
<p>🔑 But there is always a value of N after which binary search will win, and in any hardware.</p>
<hr />
<p>❤️ And that's it. We have just arrived at the intuitive notion of asymptotic complexity!</p>
<p>Calculating it can be daunting for some non-trivial algorithms, but here are some tips for estimating it:</p>
<hr />
<p>1️⃣ Every nested for loop from beginning to end usually means another exponent.</p>
<p>For example, two nested loops usually mean O(N^2), three nested loops, O(N^3), and four nested loops means you really need to take a break and, afterward, please refactor that code.</p>
<hr />
<p>2️⃣ An invocation to function F inside a loop means you have to multiply N times the complexity of F.</p>
<p>For example, if we call binary search for each element of the array, the resulting algorithm is O(N log N)</p>
<hr />
<p>3️⃣ In recursive methods, if you split at the middle and recurse down only one branch, that's O(log N). If you recurse down both branches, you usually have O(N log N).</p>
<p>These are special cases of a more general rule for recursive methods:</p>
<p><a href="https://en.wikipedia.org/wiki/Master_theorem_(analysis_of_algorithms)">https://en.wikipedia.org/wiki/Master_theorem_(analysis_of_algorithms)</a></p>
<hr />
<p>Finally, we have just scratched the surface in this thread. Algorithmic complexity is a fascinating topic that touches all fields in Computer Science.</p>
<p>The most important problem in all of CS comes from here, the infamous 🔥P vs NP🔥.</p>
<p>But that's a story for another Thursday 😉.</p>
<hr />
<p>🗨️ If you like this idea, then get into the conversation! Steal this #TheoryThursday hashtag an tell me about your favourite piece of dark magic.</p>
<p>🔔 Just @ me and I'll make sure to weigh in. </p>
<p>🗒️ Here is the full thread source:
<a href="https://apiad.net/tweetstorms/theorythursday-algorithm-complexity/">https://apiad.net/tweetstorms/theorythursday-algorithm-complexity/</a></p>
<hr />
<blockquote>
<p>You can see this tweetstorm as originally posted in this Twitter thread</p>
</blockquote>
<blockquote class="twitter-tweet" data-partner="tweetdeck"><p lang="en" dir="ltr">Hey, guess what, today is <a href="https://twitter.com/hashtag/TheoryThursday?src=hash&amp;ref_src=twsrc%5Etfw">#TheoryThursday</a> 🧐! <br><br>A silly excuse I just invented to share with you random bits of theory from some dark corner of Computer Science and make it as beginner-friendly as possible 👇</p>&mdash; Alejandro Piad-Morffis (@AlejandroPiad) <a href="https://twitter.com/AlejandroPiad/status/1306570124858716163?ref_src=twsrc%5Etfw">September 17, 2020</a></blockquote>

<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.3636a4ec.min.js"></script>
      <script src="../../assets/javascripts/bundle.e9fe3281.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.5eca75d3.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>